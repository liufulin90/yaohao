<!DOCTYPE html>
<html lang="en">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
		<title>非洲之星APP下载</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			img {
				max-width: 100%;
				height: auto;
			}
		</style>
	</head>

	<body>
		<div>
			<a href="" id="downloadUrl"><img src="./feizhouzhixin.png"></a>
		</div>
		<script type="text/javascript">
			document.documentElement.addEventListener('touchstart', function(event) {
				if(event.touches.length > 1) {
					event.preventDefault();
				}
			}, false);

			function setUrl() {
				var ua = navigator.userAgent;
				var isAndroid = ua.indexOf('Android') > -1 || ua.indexOf('Adr') > -1; //android终端
				var isiOS = !!ua.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
				if(isiOS) {
					document.getElementById('downloadUrl').setAttribute('href', 'https://www.pgyer.com/H6Yv');
				} else if(isAndroid) {
					document.getElementById('downloadUrl').setAttribute('href', 'https://www.baidu.com');
				}
			}
			setUrl();

			function is_weixin() {
				var ua = navigator.userAgent.toLowerCase();
				if(ua.match(/MicroMessenger/i) == "micromessenger") {
					return true;
				} else {
					return false;
				}
			}
			var isWeixin = is_weixin();
			var winHeight = typeof window.innerHeight != 'undefined' ? window.innerHeight : document.documentElement.clientHeight;

			function loadHtml() {
				var div = document.createElement('div');
				div.id = 'weixin-tip';
				div.innerHTML = '<p><img src="./live_weixin.png" alt="微信打开"/></p>';
				document.body.appendChild(div);
			}

			function loadStyleText(cssText) {
				var style = document.createElement('style');
				style.rel = 'stylesheet';
				style.type = 'text/css';
				try {
					style.appendChild(document.createTextNode(cssText));
				} catch(e) {
					style.styleSheet.cssText = cssText; //ie9以下
				}
				var head = document.getElementsByTagName("head")[0]; //head标签之间加上style样式
				head.appendChild(style);
			}
			var cssText = "#weixin-tip{position: fixed; left:0; top:0; background: rgba(0,0,0,0.6); filter:alpha(opacity=80); width: 100%; height:100%; z-index: 100;} #weixin-tip p{text-align: center; margin-top: 10%; padding:0 5%;}";
			if(isWeixin) {
				loadHtml();
				loadStyleText(cssText);
			}
		</script>

	</body>

</html>